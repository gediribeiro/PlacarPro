<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover">
    
    <!-- Metadados b√°sicos -->
    <meta name="description" content="Sistema de placar profissional Placar Pro">
    <meta name="version" content="v1.2.0">
    
    <!-- Theme-color din√¢mico (JS) -->
    <meta name="theme-color" id="metaThemeColor" content="#1a5f23">
    
    <!-- Configura√ß√µes iOS PWA -->
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="apple-mobile-web-app-title" content="Placar Pro">
    
    <!-- Configura√ß√µes Android/General PWA -->
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="application-name" content="Placar Pro">
    
    <!-- Favicon e √≠cones -->
    <link rel="icon" href="icon-192.png" type="image/png">
    <link rel="apple-touch-icon" href="icon-192.png">
    
    <!-- Web App Manifest -->
    <link rel="manifest" href="manifest.json">
    
    <!-- Estilos -->
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    
    <title>Placar Pro</title>

    <script>
        function updateThemeColor() {
            const isDark = window.matchMedia('(prefers-color-scheme: dark)').matches;
            const metaTheme = document.getElementById('metaThemeColor');
            if (metaTheme) {
                metaTheme.setAttribute('content', isDark ? '#0a0c10' : '#1a1a2e');
            }
        }
        updateThemeColor();
        window.matchMedia('(prefers-color-scheme: dark)').addEventListener('change', updateThemeColor);
    </script>
</head>
<body class="clean-bg">
    <!-- SPLASH SCREEN -->
    <div id="splashScreen">
        <div class="splash-content">
            <div class="logo">‚öΩ</div>
            <h1>Placar Pro</h1>
            <p class="version">v1.2.0</p>
            <div class="loading">
                <div class="spinner"></div>
            </div>
            <p class="loading-text">Carregando...</p>
        </div>
    </div>

    <!-- HEADER -->
<header class="app-header">
    <div class="header-container">
        <div class="logo-container">
            <div class="logo-icon">‚öΩ</div>
            <h1 class="app-title">Placar Pro</h1>
        </div>
        <div style="display: flex; gap: 12px; margin-left: auto;">
            <button class="header-icon-btn" onclick="PlacarApp.trocarTab('menu', this)" title="Menu"> <!-- Bot√£o do Menu (abre a aba 'menu') -->
                    <i class="fas fa-bars"></i>
            </button>
        </div>
    </div>
</header>

    <!-- CONTE√öDO PRINCIPAL -->
    <main class="app-main">
        <!-- SE√á√ÉO JOGO -->
        <section id="jogo" class="content-section active">
            <div class="scoreboard-container p-xl">
                <div class="teams-header">
                    <div class="team-name-display cursor-pointer" id="nomeTimeA">Time A</div>
                    <div class="team-edit-buttons">
                        <button class="edit-team-btn" onclick="PlacarApp.editarNomeTime('A')" title="Editar nome Time A">‚úèÔ∏è</button>
                        <button class="edit-team-btn" onclick="PlacarApp.editarNomeTime('B')" title="Editar nome Time B">‚úèÔ∏è</button>
                    </div>
                    <div class="team-name-display cursor-pointer" id="nomeTimeB">Time B</div>
                </div>

                <div class="main-scoreboard">
                    <div class="team-score team-left">
                        <div class="action-buttons">
                            <button class="action-btn goal-btn" onclick="PlacarApp.aumentarGol('A')" title="Gol do Time A">+</button>
                            <button class="action-btn remove-btn" onclick="PlacarApp.diminuirGol('A')" title="Remover gol">‚àí</button>
                            <button class="action-btn foul-btn" onclick="PlacarApp.registrarFalta('A')" title="Registrar falta">!</button>
                        </div>
                        <div class="score-number cursor-pointer" id="placarA">0</div>
                    </div>
                    <div class="score-divider">√ó</div>
                    <div class="team-score team-right">
                        <div class="score-number cursor-pointer" id="placarB">0</div>
                        <div class="action-buttons">
                            <button class="action-btn goal-btn" onclick="PlacarApp.aumentarGol('B')" title="Gol do Time B">+</button>
                            <button class="action-btn remove-btn" onclick="PlacarApp.diminuirGol('B')" title="Remover gol">‚àí</button>
                            <button class="action-btn foul-btn" onclick="PlacarApp.registrarFalta('B')" title="Registrar falta">!</button>
                        </div>
                    </div>
                </div>

                <div class="timer-section">
                    <div class="game-timer" id="tempo" onclick="PlacarApp.togglePause()">00:00</div>
                </div>

                <div class="fouls-section">
                    <div class="section-label">Faltas</div>
                    <div class="fouls-counter">
                        <div class="foul-item p-md">
                            <span class="foul-team-name" id="nomeFaltaA">Time A</span>
                            <span class="foul-count" id="faltasA">0</span>
                        </div>
                        <div class="foul-item p-md">
                            <span class="foul-team-name" id="nomeFaltaB">Time B</span>
                            <span class="foul-count" id="faltasB">0</span>
                        </div>
                    </div>
                </div>

                <div class="game-controls">
                    <button class="control-btn start-game-btn" id="btnIniciar" onclick="PlacarApp.iniciar()">
                        <span class="btn-icon">‚ñ∂</span> Iniciar
                    </button>
                    <button class="control-btn reset-game-btn" onclick="PlacarApp.resetar()">
                        <span class="btn-icon">üîÑ</span> Reset
                    </button>
                    <button class="control-btn end-game-btn" id="btnFim" onclick="PlacarApp.fim()">
                        <span class="btn-icon">‚õî</span> Fim
                    </button>
                </div>
            </div>

            <div class="timeline-container p-md">
                <h3 class="section-subtitle"><i class="fas fa-history"></i> Linha do Tempo</h3>
                <ul id="listaTimeline" class="timeline-list">
                    <li class="timeline-empty">Nenhum evento registrado ainda</li>
                </ul>
            </div>

            <h3 id="tituloGols" class="section-subtitle hidden">üìä Gols da Partida</h3>
            <ul id="listaGols" class="goals-list"></ul>
        </section>

        <!-- SE√á√ÉO JOGADORES (ID mantido) -->
        <section id="jogadores" class="content-section">
            <div class="input-card p-lg">
                <input type="text" id="novoJogador" class="player-input" placeholder="Nome do jogador" maxlength="20">
                <button class="primary-btn add-player-btn" onclick="PlacarApp.addJogador()">‚ûï Adicionar Jogador</button>
            </div>
            <ul id="listaJogadores" class="players-list"></ul>
        </section>

        <!-- SE√á√ÉO RANKING (ID mantido) -->
        <section id="ranking" class="content-section">
            <div class="stats-card p-lg">
                <h3 class="card-title">üèÜ Ranking de Gols - Geral</h3>
                <ul id="listaRankingGeral" class="ranking-list"></ul>
            </div>
            <div class="stats-card p-lg">
                <h3 class="card-title">üìÖ Ranking de Gols - M√™s</h3>
                <ul id="listaRankingMes" class="ranking-list"></ul>
            </div>
            <div class="stats-card p-lg">
                <h3 class="card-title">‚ö†Ô∏è Ranking de Faltas</h3>
                <ul id="listaRankingFaltas" class="ranking-list"></ul>
            </div>
        </section>

        <!-- SE√á√ÉO HIST√ìRICO (ID mantido) -->
        <section id="historico" class="content-section">
            <div class="history-header">
                <h2 class="section-title">üìã Hist√≥rico de Partidas</h2>
                <button class="danger-btn clear-history-btn" onclick="PlacarApp.limparHistorico()">üóëÔ∏è Limpar Hist√≥rico</button>
            </div>
            <div id="listaHistorico" class="history-container"></div>
        </section>

        <!-- SE√á√ÉO STATS (ID mantido) -->
        <section id="stats" class="content-section">
            <h2 class="section-title">üìä Estat√≠sticas</h2>
            <div class="stats-grid">
                <div class="stats-card p-lg">
                    <h3 class="card-title">üìà Gerais</h3>
                    <div id="statsGerais" class="stats-content"></div>
                </div>
                <div class="stats-card p-lg">
                    <h3 class="card-title">üî• Recentes</h3>
                    <div id="statsRecentes" class="stats-content"></div>
                </div>
                <div class="stats-card p-lg">
                    <h3 class="card-title">üë§ Por Jogador</h3>
                    <div id="statsPorJogador" class="stats-content"></div>
                </div>
            </div>
        </section>

        <!-- SE√á√ÉO COMPARAR (ID mantido) -->
        <section id="comparar" class="content-section">
            <div class="stats-card p-lg">
                <h3 class="card-title">‚öñÔ∏è Comparar Jogadores</h3>
                <select id="jogador1" class="player-select">
                    <option value="">Selecione jogador 1</option>
                </select>
                <select id="jogador2" class="player-select">
                    <option value="">Selecione jogador 2</option>
                </select>
                <button class="primary-btn compare-btn" onclick="PlacarApp.compararJogadores()">‚öñÔ∏è Comparar</button>
            </div>
            <div id="resultadoComparacao" class="comparison-result p-md"></div>
        </section>

        <!-- SE√á√ÉO BACKUP (ID mantido) -->
        <section id="backup" class="content-section">
            <div class="version-display p-lg">
                <div class="app-title">‚öΩ Placar Pro</div>
                <div class="app-version">Vers√£o: <span id="appVersion">v1.2.0</span></div>
            </div>
            <div class="stats-card p-lg">
                <h3 class="card-title">üíæ Backup & Restaura√ß√£o</h3>
                <button class="primary-btn" onclick="PlacarApp.exportarBackup()">üì§ Exportar Dados</button>
                <button class="secondary-btn" onclick="document.getElementById('importFile').click()">üì• Importar Dados</button>
                <input type="file" id="importFile" accept=".json" style="display:none" onchange="PlacarApp.importarBackup(event)">
                <p style="font-size:12px; color:var(--text-secondary); margin-top:10px;">Salve seus jogadores, hist√≥rico e estat√≠sticas</p>
                <button class="secondary-btn" onclick="PlacarApp.abrirTutorialManual()" style="margin-top: 15px;">üìò Reexibir tutorial</button>
            </div>
        </section>

        <!-- SE√á√ÉO MENU (acessada pelo √≠cone de hamb√∫rguer) -->
<section id="menu" class="content-section">
    <div class="stats-card p-lg" style="text-align: center;">
        <h2 class="section-title">‚ò∞ Menu</h2>
        <div style="display: flex; flex-direction: column; gap: 16px; margin-top: 24px;">
            <button class="primary-btn" onclick="PlacarApp.trocarTab('comparar', this)">
                <i class="fas fa-scale-balanced" style="margin-right: 8px;"></i> Comparar Jogadores
            </button>
            <button class="primary-btn" onclick="PlacarApp.trocarTab('backup', this)">
                <i class="fas fa-gear" style="margin-right: 8px;"></i> App (Configura√ß√µes)
            </button>
            <button class="primary-btn" onclick="PlacarApp.instalarApp()">
                <i class="fas fa-download" style="margin-right: 8px;"></i> Instalar App
            </button>
            <button class="primary-btn" onclick="PlacarApp.abrirTutorialManual()">
                <i class="fas fa-question-circle" style="margin-right: 8px;"></i> Ajuda / Tutorial
            </button>
            <!-- Aqui voc√™ pode adicionar mais itens no futuro -->
        </div>
    </div>
</section>
    </main>

    <!-- POPUPS / MODAIS (inalterados) -->
    <div id="popupJogador" class="modal-overlay" onclick="PlacarApp.fecharPopup(event)">
        <div class="modal-content p-xl" onclick="event.stopPropagation()">
            <h3 class="modal-title">‚öΩ Quem fez o gol?</h3>
            <div id="popupJogadores" class="players-grid"></div>
            <button class="secondary-btn close-modal-btn" onclick="PlacarApp.fecharPopup()">‚úñ Cancelar</button>
        </div>
    </div>

    <div id="popupFalta" class="modal-overlay" onclick="PlacarApp.fecharPopupFalta(event)">
        <div class="modal-content p-xl" onclick="event.stopPropagation()">
            <h3 class="modal-title">‚ö†Ô∏è Quem fez a falta?</h3>
            <div id="popupJogadoresFalta" class="players-grid"></div>
            <button class="secondary-btn close-modal-btn" onclick="PlacarApp.fecharPopupFalta()">‚úñ Cancelar</button>
        </div>
    </div>

    <div id="popupRemover" class="modal-overlay" onclick="PlacarApp.fecharPopupRemover(event)">
        <div class="modal-content p-xl" onclick="event.stopPropagation()">
            <h3 class="modal-title">üóëÔ∏è Remover qual gol?</h3>
            <div id="popupGols" class="players-grid"></div>
            <button class="secondary-btn close-modal-btn" onclick="PlacarApp.fecharPopupRemover()">‚úñ Cancelar</button>
        </div>
    </div>

    <div id="popupNomeTime" class="modal-overlay" onclick="PlacarApp.fecharPopupNome(event)">
        <div class="modal-content p-xl" onclick="event.stopPropagation()">
            <h3 class="modal-title">‚úèÔ∏è Editar Nome do Time</h3>
            <input type="text" id="inputNomeTime" class="team-name-input" placeholder="Nome do time" maxlength="20">
            <button class="primary-btn confirm-btn" onclick="PlacarApp.salvarNomeTime()">‚úì Confirmar</button>
            <button class="secondary-btn close-modal-btn" onclick="PlacarApp.fecharPopupNome()">‚úñ Cancelar</button>
        </div>
    </div>

    <!-- MODAL DO CARD DE COMPARTILHAMENTO -->
    <div id="modalCardPartida" class="modal-overlay" onclick="PlacarApp.fecharModalCard(event)">
        <div class="modal-content card-gramado" onclick="event.stopPropagation()">
            <div id="cardPartidaConteudo"></div>
            <div style="display: flex; gap: 12px; margin-top: 24px; justify-content: center;">
                <button class="secondary-btn" onclick="PlacarApp.fecharModalCard()">‚úñ Fechar</button>
            </div>
        </div>
    </div>

    <!-- OVERLAY DE ANIMA√á√ÉO -->
    <div id="gameOverlay" class="game-overlay">
        <div class="overlay-content">
            <div class="overlay-icon" id="overlayIcon">‚öΩ</div>
            <div class="overlay-text" id="overlayText">IN√çCIO DE JOGO</div>
        </div>
    </div>

    <!-- BOT√ïES FLUTUANTES -->
    <button id="installBtn" class="floating-btn install-btn" onclick="PlacarApp.instalarApp()">üì± Instalar App</button>
    <button id="undoBtn" class="floating-btn undo-btn" onclick="PlacarApp.desfazer()" style="display: none;">‚Ü∂</button>

    <!-- ===== BARRA DE ABAS ‚Äì BOTTOM NAVIGATION (5 ITENS) ===== -->
<nav class="tabs-navigation">
    <div class="tabs-container">
        <button class="tab-button active" onclick="PlacarApp.trocarTab('jogo', this)">
            <i class="fas fa-futbol"></i>
            <span>Jogo</span>
        </button>
        <button class="tab-button" onclick="PlacarApp.trocarTab('jogadores', this)">
            <i class="fas fa-users"></i>
            <span>Elenco</span>
        </button>
        <button class="tab-button" onclick="PlacarApp.trocarTab('ranking', this)">
            <i class="fas fa-trophy"></i>
            <span>Artilharia</span>
        </button>
        <button class="tab-button" onclick="PlacarApp.trocarTab('historico', this)">
            <i class="fas fa-clock-rotate-left"></i>
            <span>Partidas</span>
        </button>
        <button class="tab-button" onclick="PlacarApp.trocarTab('stats', this)">
            <i class="fas fa-chart-simple"></i>
            <span>Estat√≠sticas</span>
        </button>
    </div>
</nav>

    <!-- SCRIPTS -->
    <script src="app.js"></script>
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            console.log('Placar Pro - Carregado com sucesso!');
            if (window.matchMedia('(display-mode: standalone)').matches) {
                console.log('Rodando como PWA instalado');
            }
            const versionSpan = document.getElementById('appVersion');
            if (versionSpan) versionSpan.textContent = 'v1.2.0';
        });
    </script>
</body>
</html>
